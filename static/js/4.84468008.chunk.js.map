{"version":3,"sources":["components/Optionnal.tsx","utils/FormSubmit.ts","../node_modules/react-bootstrap/esm/Image.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/products/racks/steps/StepGeneric.tsx","pages/products/racks/steps/StepValueTile.tsx","pages/products/racks/steps/StepMachine.tsx","pages/products/racks/steps/StepCapacity.tsx","pages/products/racks/steps/StepColor.tsx","pages/products/racks/steps/StepPrice.tsx","pages/products/racks/ConfigureRack.tsx","../node_modules/react-bootstrap/esm/InputGroup.js","pages/products/racks/steps/StepShipping.tsx","../node_modules/react-bootstrap/esm/ButtonGroup.js","../node_modules/react-bootstrap/esm/ToggleButton.js","../node_modules/react-bootstrap/esm/ToggleButtonGroup.js","../node_modules/react-bootstrap/esm/ElementChildren.js","pages/products/racks/steps/StepPayment.tsx","pages/products/racks/steps/StepCustomerInformations.tsx","pages/products/racks/ConfigureShippingPayment.tsx","pages/products/racks/Racks.tsx","pages/products/ProductsPage.tsx"],"names":["Optionnal","props","displayed","children","useFormSubmit","subject","destinationEmail","useState","succeeded","error","submitting","formState","setFormState","sendMail","data","fetch","method","headers","body","JSON","stringify","_subject","then","catch","handleSubmit","event","preventDefault","formData","FormData","target","forEach","value","key","Reflect","has","Array","isArray","push","toString","_excluded","Image","PropTypes","string","bool","React","forwardRef","_ref","ref","bsPrefix","className","fluid","rounded","roundedCircle","thumbnail","_objectWithoutPropertiesLoose","useBootstrapPrefix","classes","classNames","createElement","_extends","displayName","defaultProps","_toConsumableArray","arr","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","StepGeneric","stepClassName","expanded","onClick","onSelected","introLabel","typeLabel","title","valueLabel","undefined","priceLabel","StepValueTile","label","onSelect","src","width","height","alt","price","MACHINES","Map","picture","StepMachine","setValue","selectValue","onChange","onNext","useEffect","val","img","machine","get","CAPACITIES","StepCapacity","getPriceLabel","valueKey","COLORS","StepColor","StepPrice","total","getPartNumber","config","capacity","color","validConfiguration","getTotalPrice","values","reduce","p","c","ConfigureRack","stepIndex","setStepIndex","product","setProduct","updateProduct","attribute","newProduct","disabled","onAdd","Button","variant","InputGroupAppend","createWithBsPrefix","InputGroupPrepend","InputGroupText","Component","InputGroup","size","hasValidation","_ref$as","as","InputGroupWithExtras","Text","Radio","type","Checkbox","Append","Prepend","ShippingModesByCountries","modes","none","mrelay_fr","laposte_fr","mrelay_be","laposte_be","mrelay_lu","laposte_lu","mrelay_de","laposte_de","mrelay_at","laposte_at","mrelay_es","laposte_es","mrelay_it","laposte_it","mrelay_nl","laposte_nl","mrelay_pt","laposte_pt","StepShipping","country","setCountry","mode","setMode","availableModes","countryObj","modeObj","Form","inline","Row","Col","xs","md","Control","firstModeKey","keys","selectCountry","map","countryCode","shippingModes","selectMode","entries","id","ButtonGroup","toggle","vertical","rest","prefix","baseClass","role","noop","ToggleButton","name","checked","inputRef","_useState","focused","setFocused","handleFocus","useCallback","e","tagName","handleBlur","active","autoComplete","onFocus","onBlur","ToggleButtonGroup","_useUncontrolled","useUncontrolled","controlledProps","getValues","concat","invariant","func","index","Children","child","isValidElement","_child$props","childVal","childOnChange","cloneElement","indexOf","chainFunction","inputVal","isActive","filter","n","handleToggle","PaymentModes","details","StepPayment","getValueLabel","StepCustomerInformations","firstName","email","customerInformations","setCustomerInformations","onSubmit","onUserChange","sm","placeholder","basketTotal","basketCount","conf","shipping","payment","fixAmount","paymentMultiplier","Math","round","ConfigureShippingPayment","customer","setConfig","updateConfig","newConfig","Racks","products","setProducts","shippingPayment","setShippingPayment","orderState","sendOrder","onAddProduct","getProductsPrice","getRackPrice","Alert","newProducts","logEvent","nbProducts","length","basket","join","totalProduct","onProductChange","some","prod","totalPrice","block","Spinner","animation","aria-hidden","ProductsPage","path","useRouteMatch","Container","exact","to"],"mappings":"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","file":"static/js/4.84468008.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport interface OptionnalProps {\r\n  displayed: boolean\r\n}\r\n\r\nexport function Optionnal(props: React.PropsWithChildren<OptionnalProps>): JSX.Element {\r\n  return (\r\n    <>\r\n      {props.displayed ? props.children : null}\r\n    </>\r\n  );\r\n}","import { useState } from 'react';\r\n\r\ninterface FormSubmitState {\r\n  succeeded: boolean,\r\n  error: string,\r\n  submitting: boolean\r\n}\r\n\r\nexport function useFormSubmit(subject: string, destinationEmail: string = 'f4b1f3525078ed28a2659dbb69c5a942'): [FormSubmitState, (e: React.FormEvent<HTMLFormElement>) => void, (data: object) => void] {\r\n  const [formState, setFormState] = useState<FormSubmitState>({\r\n    succeeded: false,\r\n    error: '',\r\n    submitting: false\r\n  });\r\n\r\n  function sendMail(data: object): void {\r\n    setFormState({ ...formState, submitting: true });\r\n\r\n    fetch('https://formsubmit.co/ajax/' + destinationEmail, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      body: JSON.stringify({ ...data, _subject: subject })\r\n    }).then(() => {\r\n      setFormState({ ...formState, succeeded: true, submitting: false });\r\n    }).catch(error => {\r\n      setFormState({ ...formState, error: error, submitting: false });\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData(event.target as HTMLFormElement);\r\n\r\n    let data: Record<string, string | string[]> = {};\r\n    formData.forEach((value, key) => {\r\n      if (!Reflect.has(data, key)) {\r\n        data[key] = value.toString();\r\n        return;\r\n      }\r\n      if (!Array.isArray(data[key])) {\r\n        data[key] = [data[key] as string];\r\n      }\r\n      (data[key] as string[]).push(value.toString());\r\n    });\r\n\r\n    sendMail(data);\r\n  }\r\n\r\n  return [formState, handleSubmit, sendMail];\r\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"fluid\", \"rounded\", \"roundedCircle\", \"thumbnail\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nexport var propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nvar defaultProps = {\n  fluid: false,\n  rounded: false,\n  roundedCircle: false,\n  thumbnail: false\n};\nvar Image = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      fluid = _ref.fluid,\n      rounded = _ref.rounded,\n      roundedCircle = _ref.roundedCircle,\n      thumbnail = _ref.thumbnail,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  var classes = classNames(fluid && bsPrefix + \"-fluid\", rounded && \"rounded\", roundedCircle && \"rounded-circle\", thumbnail && bsPrefix + \"-thumbnail\");\n  return /*#__PURE__*/React.createElement(\"img\", _extends({\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref\n  }, props, {\n    className: classNames(className, classes)\n  }));\n});\nImage.displayName = 'Image';\nImage.defaultProps = defaultProps;\nexport default Image;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\r\nimport { Optionnal } from '../../../../components/Optionnal';\r\n\r\nexport interface MinimunStepGenericProps {\r\n  displayed?: boolean,\r\n  expanded: boolean,\r\n  onSelected?: () => void,\r\n  onNext?: () => void\r\n}\r\n\r\ninterface StepGenericProps extends MinimunStepGenericProps {\r\n  stepClassName: string\r\n  typeLabel: string\r\n  introLabel: string\r\n  valueLabel: () => string\r\n  priceLabel?: () => string\r\n  onChange?: (value: [val: string, price: number]) => void\r\n}\r\n\r\nexport function StepGeneric(props: React.PropsWithChildren<StepGenericProps>) {\r\n  return (\r\n    <Optionnal displayed={props.displayed !== false}>\r\n      <div className={'step ' + props.stepClassName + ' border border-info ' + (props.expanded ? 'expanded' : 'collapsed')}>\r\n        <div className={'header d-flex py-2 px-2 bg-light'} onClick={props.onSelected}>\r\n          <span className=\"type\">{props.expanded ? props.introLabel : props.typeLabel + ' :'}</span>&nbsp;\r\n          <span className=\"value text-truncate text-muted\" title={props.expanded ? '' : props.valueLabel()}>{props.expanded ? '' : props.valueLabel()}</span>\r\n          <Optionnal displayed={!props.expanded && props.priceLabel !== undefined}><span className=\"price\">{props.priceLabel ? props.priceLabel() : ''}</span></Optionnal>\r\n        </div>\r\n        <Optionnal displayed={props.expanded}>\r\n          <div className=\"content border-top border-info p-2\">\r\n            {props.children}\r\n          </div>\r\n        </Optionnal>\r\n      </div>\r\n    </Optionnal>\r\n  );\r\n}","import React from 'react';\r\nimport { Image } from 'react-bootstrap';\r\nimport { Optionnal } from '../../../../components/Optionnal';\r\n\r\nexport interface StepValueTileProps {\r\n  label?: string\r\n  value: string\r\n  src: string\r\n  width?: string\r\n  height?: string\r\n  price?: string\r\n  onSelect: (value: string) => void\r\n}\r\n\r\nexport function StepValueTile(props: StepValueTileProps) {\r\n  const label = '' + (props.label || props.value);\r\n  return (\r\n    <figure className=\"figure\" onClick={() => props.onSelect(props.value)}>\r\n      <Image src={props.src} width={props.width} height={props.height} thumbnail alt={label} />\r\n      <Optionnal displayed={props.price !== undefined && props.price !== ''}><span className=\"price\">{props.price}</span></Optionnal>\r\n      <figcaption className=\"figure-caption\">{label}</figcaption>\r\n    </figure>\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { MinimunStepGenericProps, StepGeneric } from './StepGeneric';\r\nimport { StepValueTile } from './StepValueTile';\r\n\r\nconst MACHINES = new Map<string, { label: string, picture: string }>([\r\n  ['avance', { label: 'Philips Pasta Maker Avance', picture: 'machine-avance.png' }],\r\n  ['viva', { label: 'Philips Pasta Maker Viva', picture: 'machine-viva.png' }],\r\n]);\r\n\r\ninterface StepMachineProps extends MinimunStepGenericProps {\r\n  onChange?: (value: [val: string, price: number]) => void\r\n}\r\n\r\nexport function StepMachine(props: StepMachineProps) {\r\n  const [value, setValue] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    Array.from(MACHINES, ([key, val]) => {\r\n      const img = new Image();\r\n      img.src = 'img/racks/' + val.picture;\r\n      return img;\r\n    });\r\n  });\r\n\r\n  function selectValue(value: string): void {\r\n    setValue(value);\r\n    if (props.onChange)\r\n      props.onChange([value, 0]);\r\n    if (props.onNext)\r\n      props.onNext();\r\n  }\r\n\r\n  function getValueLabel(): string {\r\n    const machine = MACHINES.get(value);\r\n    return machine ? machine.label : '';\r\n  }\r\n\r\n  return (\r\n    <StepGeneric {...props} stepClassName='machine' typeLabel='Machine' introLabel='Machine utilisée' valueLabel={getValueLabel}>\r\n      {Array.from(MACHINES, ([key, val]) =>\r\n        <StepValueTile src={'img/racks/' + val.picture} width=\"420\" height=\"442\" label={val.label} value={key} onSelect={selectValue} key={'machine-' + key} />\r\n      )}\r\n    </StepGeneric>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { MinimunStepGenericProps, StepGeneric } from './StepGeneric';\r\nimport { StepValueTile } from './StepValueTile';\r\n\r\n\r\nconst CAPACITIES = new Map<string, { price: number }>([\r\n  ['16', { price: 18 }],\r\n  ['24', { price: 24 }],\r\n  ['32', { price: 32 }]\r\n]);\r\n\r\ninterface StepCapacityProps extends MinimunStepGenericProps {\r\n  onChange?: (value: [val: string, price: number]) => void\r\n}\r\n\r\nexport function StepCapacity(props: StepCapacityProps) {\r\n  const [value, setValue] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    Array.from(CAPACITIES, ([key, val]) => {\r\n      const img = new Image();\r\n      img.src = 'img/racks/capacity-' + key + '.png';\r\n      return img;\r\n    });\r\n  });\r\n\r\n  function selectValue(value: string): void {\r\n    const val = CAPACITIES.get(value);\r\n    if (!val) return;\r\n    \r\n    setValue(value);\r\n    if (props.onChange)\r\n      props.onChange([value, val.price]);\r\n    if (props.onNext)\r\n      props.onNext();\r\n  }\r\n\r\n  function getValueLabel(): string {\r\n    return value + ' filières';\r\n  }\r\n\r\n  function getPriceLabel(valueKey: string = value): string {\r\n    const val = CAPACITIES.get(valueKey);\r\n    return val ? val.price + '€' : '';\r\n  }\r\n\r\n  return (\r\n    <StepGeneric {...props} stepClassName='capacity' typeLabel='Capacité' introLabel='Capacité du support' valueLabel={getValueLabel} priceLabel={getPriceLabel}>\r\n      {Array.from(CAPACITIES, ([key, val]) =>\r\n        <StepValueTile src={'img/racks/capacity-' + key + '.png'} value={key} label={key + ' filières'} price={getPriceLabel(key)} onSelect={selectValue} key={'cap' + key} />\r\n      )}\r\n    </StepGeneric>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { MinimunStepGenericProps, StepGeneric } from './StepGeneric';\r\nimport { StepValueTile } from './StepValueTile';\r\n\r\nconst COLORS = new Map<string, { label: string, price: number }>([\r\n  ['white', { label: 'Blanc', price: 0 }],\r\n  ['black', { label: 'Noir', price: 1 }],\r\n  ['nightblue', { label: 'Bleu nuit', price: 1 }],\r\n  ['grey', { label: 'Gris', price: 1 }],\r\n  ['red', { label: 'Rouge', price: 1 }],\r\n  ['skyblue', { label: 'Bleu ciel', price: 2 }],\r\n  ['turquoiseblue', { label: 'Turquoise', price: 2 }],\r\n  ['bronze', { label: 'Bronze', price: 3 }],\r\n  ['pastelblue', { label: 'Bleu pastel', price: 3.5 }],\r\n  ['pastelgreen', { label: 'Vert pastel', price: 3.5 }],\r\n  ['pastelpink', { label: 'Rose pastel', price: 3.5 }]\r\n]);\r\n\r\ninterface StepColorProps extends MinimunStepGenericProps {\r\n  onChange?: (value: [val: string, price: number]) => void\r\n}\r\n\r\nexport function StepColor(props: StepColorProps) {\r\n  const [value, setValue] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    Array.from(COLORS, ([key, val]) => {\r\n      const img = new Image();\r\n      img.src = 'img/racks/color-' + key + '.png';\r\n      return img;\r\n    });\r\n  });\r\n  \r\n  function selectValue(value: string): void {\r\n    const val = COLORS.get(value);\r\n    if (!val) return;\r\n\r\n    setValue(value);\r\n    if (props.onChange)\r\n      props.onChange([value, val.price]);\r\n    if (props.onNext)\r\n      props.onNext();\r\n  }\r\n\r\n  function getValueLabel(): string {\r\n    return '' + COLORS.get(value)?.label;\r\n  }\r\n\r\n  function getPriceLabel(valueKey: string = value): string {\r\n    const val = COLORS.get(valueKey);\r\n    return val && val.price > 0 ? '+' + val.price + '€' : '';\r\n  }\r\n\r\n  return (\r\n    <StepGeneric {...props} stepClassName='color' typeLabel='Couleur' introLabel='Couleur du support' valueLabel={getValueLabel} priceLabel={getPriceLabel}>\r\n      {Array.from(COLORS, ([key, val]) =>\r\n        <StepValueTile src={'img/racks/color-' + key + '.png'} width=\"80\" height=\"80\" label={val.label} price={getPriceLabel(key)} value={key} onSelect={selectValue} key={'col' + key} />\r\n      )}\r\n    </StepGeneric>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { StepGeneric } from './StepGeneric';\r\n\r\ninterface StepPriceProps {\r\n  displayed?: boolean\r\n  total: number\r\n}\r\n\r\nexport function StepPrice(props: StepPriceProps) {\r\n  return (\r\n    <StepGeneric displayed={props.displayed} expanded={false} stepClassName='price' typeLabel='Total' introLabel='' valueLabel={() => props.total + '€'}></StepGeneric>\r\n  );\r\n}\r\n","\r\nimport React, { useState } from 'react';\r\nimport { Optionnal } from '../../../components/Optionnal';\r\nimport { StepMachine } from './steps/StepMachine';\r\nimport { StepCapacity } from './steps/StepCapacity';\r\nimport { StepColor } from './steps/StepColor';\r\nimport { StepPrice } from './steps/StepPrice';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nexport interface RackConfiguration {\r\n  machine: [string, number],\r\n  capacity: [string, number],\r\n  color: [string, number]\r\n}\r\n\r\nexport function getNewConfiguration(): RackConfiguration {\r\n  return {\r\n    machine: ['', 0],\r\n    capacity: ['', 0],\r\n    color: ['', 0],\r\n  };\r\n}\r\n\r\nexport function getPartNumber(config: RackConfiguration): string {\r\n  return config.machine[0] + '-' + config.capacity[0] + '-' + config.color[0];\r\n}\r\n\r\nexport function validConfiguration(config: RackConfiguration): boolean {\r\n  return config.machine[0] !== '' && config.capacity[0] !== '' && config.color[0] !== '';\r\n}\r\n\r\nexport function getTotalPrice(config: RackConfiguration): number {\r\n  return Object.values(config).reduce((p, c) => p + c[1], 0);\r\n}\r\n\r\nexport function ConfigureRack(props: {\r\n  onChange: (conf: RackConfiguration) => void\r\n  onAdd?: () => void\r\n  disabled?: boolean\r\n}) {\r\n  const [stepIndex, setStepIndex] = useState(0);\r\n  const [product, setProduct] = useState<RackConfiguration>(getNewConfiguration());\r\n\r\n  function updateProduct(attribute: keyof RackConfiguration, value: [string, number]) {\r\n    const newProduct = { ...product, [attribute]: value };\r\n    setProduct(newProduct);\r\n    props.onChange(newProduct);\r\n  }\r\n\r\n  return (\r\n    <div className=\"configureRack clearfix\">\r\n      <div className=\"myAccordion w-100 border border-info\">\r\n        <StepMachine expanded={stepIndex === 0} onSelected={() => props.disabled || setStepIndex(0)} onNext={() => props.disabled || setStepIndex(1)} onChange={val => updateProduct('machine', val)} />\r\n        <StepCapacity displayed={stepIndex >= 1} expanded={stepIndex === 1} onSelected={() => props.disabled || setStepIndex(1)} onNext={() => props.disabled || setStepIndex(2)} onChange={val => updateProduct('capacity', val)} />\r\n        <StepColor displayed={stepIndex >= 2} expanded={stepIndex === 2} onSelected={() => props.disabled || setStepIndex(2)} onNext={() => props.disabled || setStepIndex(3)} onChange={val => updateProduct('color', val)} />\r\n        <StepPrice displayed={stepIndex === 3} total={getTotalPrice(product)} />\r\n      </div>\r\n      <Optionnal displayed={stepIndex === 3 && props.onAdd !== undefined}><Button className=\"my-2 float-right\" variant=\"primary\" onClick={props.onAdd} disabled={props.disabled}>Ajouter un autre support à ma commande</Button></Optionnal>\r\n    </div>\r\n  );\r\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"bsPrefix\", \"size\", \"hasValidation\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar InputGroupAppend = createWithBsPrefix('input-group-append');\nvar InputGroupPrepend = createWithBsPrefix('input-group-prepend');\nvar InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"radio\"\n  }, props)));\n};\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      hasValidation = _ref.hasValidation,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix, size && bsPrefix + \"-\" + size, hasValidation && 'has-validation')\n  }));\n});\nInputGroup.displayName = 'InputGroup';\n\nvar InputGroupWithExtras = _extends({}, InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox,\n  Append: InputGroupAppend,\n  Prepend: InputGroupPrepend\n});\n\nexport default InputGroupWithExtras;","import React, { useState } from 'react';\r\nimport { Row, Col, Form, InputGroup } from 'react-bootstrap';\r\nimport { MinimunStepGenericProps, StepGeneric } from './StepGeneric';\r\n\r\ninterface ShippingMode {\r\n  label: string,\r\n  price: number\r\n}\r\n\r\nconst ShippingModesByCountries = new Map<string, { label: string, modes: { [id: string]: ShippingMode } }>([\r\n  ['fr', {\r\n    label: 'France', modes: {\r\n      none: { label: 'En main propre à Gentilly (94250)', price: 0 },\r\n      mrelay_fr: { label: 'Mondial Relay', price: 5.5 },\r\n      laposte_fr: { label: 'Colissimo - Livraison en 2 jours', price: 9 }\r\n    }\r\n  }],\r\n  ['be', {\r\n    label: 'Belgique', modes: {\r\n      mrelay_be: { label: 'Mondial Relay ', price: 5.5 },\r\n      laposte_be: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n  ['lu', {\r\n    label: 'Luxembourg', modes: {\r\n      mrelay_lu: { label: 'Mondial Relay', price: 6 },\r\n      laposte_lu: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n  ['de', {\r\n    label: 'Allemagne', modes: {\r\n      mrelay_de: { label: 'Mondial Relay', price: 10.5 },\r\n      laposte_de: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n  ['at', {\r\n    label: 'Autriche', modes: {\r\n      mrelay_at: { label: 'Mondial Relay', price: 12 },\r\n      laposte_at: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n  ['es', {\r\n    label: 'Espagne', modes: {\r\n      mrelay_es: { label: 'Mondial Relay', price: 8 },\r\n      laposte_es: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n  ['it', {\r\n    label: 'Italie', modes: {\r\n      mrelay_it: { label: 'Mondial Relay', price: 12 },\r\n      laposte_it: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n  ['nl', {\r\n    label: 'Pays Bas', modes: {\r\n      mrelay_nl: { label: 'Mondial Relay', price: 6.6 },\r\n      laposte_nl: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n  ['pt', {\r\n    label: 'Portugal', modes: {\r\n      mrelay_pt: { label: 'Mondial Relay', price: 12 },\r\n      laposte_pt: { label: 'Colissimo International', price: 17 }\r\n    }\r\n  }],\r\n]);\r\n\r\ninterface StepShippingProps extends MinimunStepGenericProps {\r\n  onChange?: (value: [val: string, price: number]) => void\r\n}\r\n\r\nexport function StepShipping(props: StepShippingProps) {\r\n  const [country, setCountry] = useState<string>('fr');\r\n  const [mode, setMode] = useState<string>('mrelay_fr');\r\n\r\n  function selectCountry(value: string): void {\r\n    const countryObj = ShippingModesByCountries.get(value);\r\n    if (!countryObj) return;\r\n\r\n    const firstModeKey = Object.keys(countryObj.modes)[0];\r\n\r\n    setCountry(value);\r\n    setMode(firstModeKey);\r\n\r\n    if (props.onChange)\r\n      props.onChange([firstModeKey, countryObj.modes[firstModeKey].price]);\r\n  }\r\n\r\n  function selectMode(value: string): void {\r\n    const countryObj = ShippingModesByCountries.get(country);\r\n    if (!countryObj) return;\r\n\r\n    const modeObj = countryObj.modes[value];\r\n    if (!modeObj) return;\r\n\r\n    setMode(value);\r\n\r\n    if (props.onChange)\r\n      props.onChange([value, modeObj.price]);\r\n\r\n    if (props.onNext)\r\n      props.onNext();\r\n  }\r\n\r\n  function getValueLabel(): string {\r\n    const countryObj = ShippingModesByCountries.get(country);\r\n    if (!countryObj) return '';\r\n\r\n    const modeObj = countryObj.modes[mode];\r\n    if (!countryObj) return '';\r\n\r\n    return modeObj.label;\r\n  }\r\n\r\n  function getPriceLabel(): string {\r\n    const countryObj = ShippingModesByCountries.get(country);\r\n    if (!countryObj) return '';\r\n\r\n    const modeObj = countryObj.modes[mode];\r\n    if (!countryObj) return '';\r\n\r\n    return modeObj.price > 0 ? ('+' + modeObj.price + '€') : 'Gratuit';\r\n  }\r\n\r\n  const availableModes = ShippingModesByCountries.get(country)?.modes || {};\r\n\r\n  return (\r\n    <StepGeneric {...props} stepClassName='shipping' typeLabel='Expédition' introLabel=\"Mode d'expédition\" valueLabel={getValueLabel} priceLabel={getPriceLabel}>\r\n      <Form inline className=\"justify-content-center\">\r\n        <Row>\r\n          <Col className=\"mb-2\" xs={12} >\r\n            <Form.Text className=\"text-muted text-center text-md-right\">\r\n              Les supports supplémentaires au premier seront envoyés dans le même colis pour <strong>seulement 1€</strong> de plus.\r\n            </Form.Text>\r\n          </Col>\r\n          <Col xs={12} md={6}>\r\n            <InputGroup className=\"w-100\">\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text>Pays de destination</InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <Form.Control as=\"select\" onChange={event => selectCountry(event.target.value)} value={country}>\r\n                {Array.from(ShippingModesByCountries).map(([countryCode, shippingModes]) =>\r\n                  <option key={'country-' + countryCode} value={countryCode}>{shippingModes.label}</option>\r\n                )}\r\n              </Form.Control>\r\n            </InputGroup>\r\n          </Col>\r\n          <Col className=\"mt-2 mt-md-0\" xs={12} md={6}>\r\n            <InputGroup className=\"w-100\">\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text>Mode d'envoi</InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <Form.Control as=\"select\" onChange={event => selectMode(event.target.value)} value={country}>\r\n                <option className=\"placeholder\">-</option>\r\n                {Object.entries(availableModes).map(([id, mode]) =>\r\n                  <option key={'mode-' + id} value={id}>{mode.label} - {mode.price}€</option>\r\n                )}\r\n              </Form.Control>\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </StepGeneric>\r\n  );\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"size\", \"toggle\", \"vertical\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  vertical: false,\n  toggle: false,\n  role: 'group'\n};\nvar ButtonGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      toggle = _ref.toggle,\n      vertical = _ref.vertical,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn-group');\n  var baseClass = prefix;\n  if (vertical) baseClass = prefix + \"-vertical\";\n  return /*#__PURE__*/React.createElement(Component, _extends({}, rest, {\n    ref: ref,\n    className: classNames(className, baseClass, size && prefix + \"-\" + size, toggle && prefix + \"-toggle\")\n  }));\n});\nButtonGroup.displayName = 'ButtonGroup';\nButtonGroup.defaultProps = defaultProps;\nexport default ButtonGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"children\", \"name\", \"className\", \"checked\", \"type\", \"onChange\", \"value\", \"disabled\", \"inputRef\"];\nimport classNames from 'classnames';\nimport React, { useCallback, useState } from 'react';\nimport Button from './Button';\n\nvar noop = function noop() {\n  return undefined;\n};\n\nvar ToggleButton = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      name = _ref.name,\n      className = _ref.className,\n      checked = _ref.checked,\n      type = _ref.type,\n      onChange = _ref.onChange,\n      value = _ref.value,\n      disabled = _ref.disabled,\n      inputRef = _ref.inputRef,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useState = useState(false),\n      focused = _useState[0],\n      setFocused = _useState[1];\n\n  var handleFocus = useCallback(function (e) {\n    if (e.target.tagName === 'INPUT') setFocused(true);\n  }, []);\n  var handleBlur = useCallback(function (e) {\n    if (e.target.tagName === 'INPUT') setFocused(false);\n  }, []);\n  return /*#__PURE__*/React.createElement(Button, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, focused && 'focus', disabled && 'disabled'),\n    type: undefined,\n    active: !!checked,\n    as: \"label\"\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: name,\n    type: type,\n    value: value,\n    ref: inputRef,\n    autoComplete: \"off\",\n    checked: !!checked,\n    disabled: !!disabled,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onChange: onChange || noop\n  }), children);\n});\nToggleButton.displayName = 'ToggleButton';\nexport default ToggleButton;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"children\", \"type\", \"name\", \"value\", \"onChange\"];\nimport React from 'react';\nimport invariant from 'invariant';\nimport { useUncontrolled } from 'uncontrollable';\nimport chainFunction from './createChainedFunction';\nimport { map } from './ElementChildren';\nimport ButtonGroup from './ButtonGroup';\nimport ToggleButton from './ToggleButton';\nvar defaultProps = {\n  type: 'radio',\n  vertical: false\n};\nvar ToggleButtonGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    value: 'onChange'\n  }),\n      children = _useUncontrolled.children,\n      type = _useUncontrolled.type,\n      name = _useUncontrolled.name,\n      value = _useUncontrolled.value,\n      onChange = _useUncontrolled.onChange,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var getValues = function getValues() {\n    return value == null ? [] : [].concat(value);\n  };\n\n  var handleToggle = function handleToggle(inputVal, event) {\n    if (!onChange) {\n      return;\n    }\n\n    var values = getValues();\n    var isActive = values.indexOf(inputVal) !== -1;\n\n    if (type === 'radio') {\n      if (!isActive && onChange) onChange(inputVal, event);\n      return;\n    }\n\n    if (isActive) {\n      onChange(values.filter(function (n) {\n        return n !== inputVal;\n      }), event);\n    } else {\n      onChange([].concat(values, [inputVal]), event);\n    }\n  };\n\n  !(type !== 'radio' || !!name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A `name` is required to group the toggle buttons when the `type` ' + 'is set to \"radio\"') : invariant(false) : void 0;\n  return /*#__PURE__*/React.createElement(ButtonGroup, _extends({}, controlledProps, {\n    ref: ref,\n    toggle: true\n  }), map(children, function (child) {\n    var values = getValues();\n    var _child$props = child.props,\n        childVal = _child$props.value,\n        childOnChange = _child$props.onChange;\n\n    var handler = function handler(e) {\n      return handleToggle(childVal, e);\n    };\n\n    return /*#__PURE__*/React.cloneElement(child, {\n      type: type,\n      name: child.name || name,\n      checked: values.indexOf(childVal) !== -1,\n      onChange: chainFunction(childOnChange, handler)\n    });\n  }));\n});\nToggleButtonGroup.defaultProps = defaultProps;\nToggleButtonGroup.Button = ToggleButton;\nexport default ToggleButtonGroup;","import React from 'react';\n/**\n * Iterates through children that are typically specified as `props.children`,\n * but only maps over children that are \"valid elements\".\n *\n * The mapFunction provided index will be normalised to the components mapped,\n * so an invalid component would not increase the index.\n *\n */\n\nfunction map(children, func) {\n  var index = 0;\n  return React.Children.map(children, function (child) {\n    return /*#__PURE__*/React.isValidElement(child) ? func(child, index++) : child;\n  });\n}\n/**\n * Iterates through children that are \"valid elements\".\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child with the index reflecting the position relative to \"valid components\".\n */\n\n\nfunction forEach(children, func) {\n  var index = 0;\n  React.Children.forEach(children, function (child) {\n    if ( /*#__PURE__*/React.isValidElement(child)) func(child, index++);\n  });\n}\n\nexport { map, forEach };","import React, { useState } from 'react';\r\nimport { Form, ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\r\nimport { MinimunStepGenericProps, StepGeneric } from './StepGeneric';\r\n\r\ninterface PaymentMode {\r\n  label: string,\r\n  details: string,\r\n  price: number\r\n}\r\n\r\nconst PaymentModes = new Map<string, PaymentMode>([\r\n  ['transfert', { label: 'Virement bancaire', details: 'Paiement en quelques jours, sûr et sécurisé.', price: 0 }],\r\n  ['paypal_friends', { label: 'Paypal - entre amis', details: 'Paiement instantané, sûr et sécurisé.', price: 0 }],\r\n  ['paypal_goods', { label: 'Paypal  - biens & services', details: 'Paiement instantané, sûr et sécurisé avec assurance acheteur.', price: 5 }],\r\n]);\r\n\r\ninterface StepPaymentProps extends MinimunStepGenericProps {\r\n  onChange?: (value: [val: string, price: number]) => void\r\n}\r\n\r\nexport function StepPayment(props: StepPaymentProps) {\r\n  const [mode, setMode] = useState<string>('');\r\n\r\n  function selectMode(value: string): void {\r\n    const modeObj = PaymentModes.get(value);\r\n    if (!modeObj) return;\r\n\r\n    setMode(value);\r\n\r\n    if (props.onChange)\r\n      props.onChange([value, modeObj.price]);\r\n\r\n    if (props.onNext)\r\n      props.onNext();\r\n  }\r\n\r\n  function getValueLabel(val?: PaymentMode): string {\r\n    const modeObj = val || PaymentModes.get(mode);\r\n    if (!modeObj) return '';\r\n\r\n    return modeObj.label;\r\n  }\r\n\r\n  function getPriceLabel(val?: PaymentMode): string {\r\n    const modeObj = val || PaymentModes.get(mode);\r\n    if (!modeObj) return '';\r\n\r\n    return modeObj.price > 0 ? '+' + modeObj.price + '%' : 'Gratuit';\r\n  }\r\n\r\n  return (\r\n    <StepGeneric {...props} stepClassName='payment' typeLabel='Paiement' introLabel=\"Mode de paiement\" valueLabel={getValueLabel} priceLabel={getPriceLabel}>\r\n      <Form inline>\r\n        <ToggleButtonGroup className=\"flex-column flex-md-row justify-content-center\" type=\"radio\" name=\"options\" onChange={selectMode}>\r\n          {Array.from(PaymentModes, ([key, val]) =>\r\n            <ToggleButton className=\"flex-column px-2 my-2 my-md-0 mx-md-2\" value={key} key={'pay-' + key}>\r\n              <div className=\"title\">{getValueLabel(val)}</div>\r\n              <div className=\"price mb-2\">{getPriceLabel(val)}</div>\r\n              <div className=\"details font-weight-light\">{val.details}</div>\r\n            </ToggleButton>\r\n          )}\r\n        </ToggleButtonGroup>\r\n      </Form>\r\n    </StepGeneric>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Row, Col, Form, Button } from 'react-bootstrap';\r\nimport { MinimunStepGenericProps, StepGeneric } from './StepGeneric';\r\n\r\nexport interface CustomerInformations {\r\n  firstName: string\r\n  name: string\r\n  email: string\r\n}\r\n\r\ninterface StepCustomerInformationsProps extends MinimunStepGenericProps {\r\n  onUserChange?: (value?: CustomerInformations) => void\r\n}\r\n\r\nexport function StepCustomerInformations(props: StepCustomerInformationsProps) {\r\n  const [customerInformations, setCustomerInformations] = useState<CustomerInformations>({\r\n    firstName: '',\r\n    name: '',\r\n    email: ''\r\n  });\r\n\r\n  function getValueLabel(val?: any): string {\r\n    return customerInformations.firstName + ' ' + customerInformations.name + ' (' + customerInformations.email + ')';\r\n  }\r\n\r\n  function onSubmit(event: React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n    \r\n    if (props.onUserChange)\r\n      props.onUserChange(customerInformations);\r\n\r\n    if (props.onNext)\r\n      props.onNext();\r\n  }\r\n\r\n  return (\r\n    <StepGeneric {...props} stepClassName='customerInformations' typeLabel='Identité' introLabel=\"Informations personnelles\" valueLabel={getValueLabel}>\r\n      <Form inline className=\"justify-content-around flex-fill\" onSubmit={onSubmit}>\r\n        <Row className=\"flex-fill\">\r\n          <Col className=\"d-flex mb-2 mb-md-0\" xs={12} sm={6} md={3}>\r\n            <Form.Control className=\"flex-grow-1 w-100\" name=\"firstName\" placeholder=\"Prénom\" value={customerInformations.firstName} onChange={event => setCustomerInformations({ ...customerInformations, firstName: event.target.value })} />\r\n          </Col>\r\n          <Col className=\"d-flex mb-2 mb-md-0\" xs={12} sm={6} md={3}>\r\n            <Form.Control className=\"flex-grow-1 w-100\" name=\"name\" placeholder=\"Nom\" value={customerInformations.name} onChange={event => setCustomerInformations({ ...customerInformations, name: event.target.value })} />\r\n          </Col>\r\n          <Col className=\"d-flex\" xs={12} md={6}>\r\n            <Form.Control className=\"flex-grow-1 w-100\" type=\"email\" name=\"email\" value={customerInformations.email} placeholder=\"E-mail\" onChange={event => setCustomerInformations({ ...customerInformations, email: event.target.value })} />\r\n            <Button className=\"ml-2\" type=\"submit\" variant=\"primary\" disabled={!customerInformations.firstName || !customerInformations.name || !customerInformations.email}>Ok</Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </StepGeneric>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { StepShipping } from \"./steps/StepShipping\";\r\nimport { StepPayment } from \"./steps/StepPayment\";\r\nimport { CustomerInformations, StepCustomerInformations } from \"./steps/StepCustomerInformations\";\r\nimport { StepPrice } from \"./steps/StepPrice\";\r\n\r\nexport interface ShippingPaymentConfiguration {\r\n  shipping?: [string, number]\r\n  payment?: [string, number]\r\n  customer?: CustomerInformations\r\n}\r\n\r\nexport function getNewConfiguration(): ShippingPaymentConfiguration {\r\n  return {\r\n    shipping: undefined,\r\n    payment: undefined,\r\n    customer: undefined\r\n  };\r\n}\r\n\r\nexport function getTotalPrice(basketTotal: number, basketCount: number, conf: ShippingPaymentConfiguration): number {\r\n  if (!conf.shipping || !conf.payment) return 0;\r\n\r\n  const fixAmount = basketTotal + conf.shipping[1] + (basketCount - 1);\r\n  const paymentMultiplier = 1 + (conf.payment[1] / 100);\r\n  return Math.round(fixAmount * paymentMultiplier * 10) / 10;\r\n}\r\n\r\nexport function ConfigureShippingPayment(props: {\r\n  basketTotal: number,\r\n  basketCount: number,\r\n  onChange: (conf: ShippingPaymentConfiguration) => void\r\n  disabled?: boolean\r\n}) {\r\n  const [stepIndex, setStepIndex] = useState(0);\r\n  const [config, setConfig] = useState<ShippingPaymentConfiguration>(getNewConfiguration());\r\n\r\n  function updateConfig(attribute: keyof ShippingPaymentConfiguration, value: any) {\r\n    const newConfig = { ...config, [attribute]: value };\r\n    setConfig(newConfig);\r\n    props.onChange(newConfig);\r\n  }\r\n\r\n  return (\r\n    <div className=\"configureShippingPayment clearfix\">\r\n      <div className=\"myAccordion w-100 border border-info\">\r\n        <StepShipping expanded={stepIndex === 0} onSelected={() => props.disabled || setStepIndex(0)} onNext={() => props.disabled || setStepIndex(1)} onChange={val => updateConfig('shipping', val)} />\r\n        <StepPayment displayed={stepIndex >= 1} expanded={stepIndex === 1} onSelected={() => props.disabled || setStepIndex(1)} onNext={() => props.disabled || setStepIndex(2)} onChange={val => updateConfig('payment', val)} />\r\n        <StepPrice displayed={stepIndex >= 2} total={getTotalPrice(props.basketTotal, props.basketCount, config)} />\r\n        <StepCustomerInformations displayed={stepIndex >= 2} expanded={stepIndex === 2} onSelected={() => props.disabled || setStepIndex(2)} onNext={() => props.disabled || setStepIndex(3)} onUserChange={val => updateConfig('customer', val)}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { Row, Col, Image, Button, Form, Alert, Spinner } from 'react-bootstrap';\r\n//import { useRouteMatch } from 'react-router';\r\nimport { Optionnal } from '../../../components/Optionnal';\r\nimport { logEvent } from '../../../components/TawkTo';\r\nimport { useFormSubmit } from '../../../utils/FormSubmit';\r\nimport { ConfigureRack, getNewConfiguration as rGetNewConfiguration, validConfiguration, RackConfiguration, getTotalPrice as getRackPrice, getPartNumber } from './ConfigureRack';\r\nimport { ConfigureShippingPayment, getNewConfiguration as spGetNewConfiguration, getTotalPrice, ShippingPaymentConfiguration } from './ConfigureShippingPayment';\r\nimport './Racks.scss';\r\n\r\nfunction Racks() {\r\n  //let { path, url } = useRouteMatch();\r\n\r\n  const [products, setProducts] = useState<RackConfiguration[]>([rGetNewConfiguration()]);\r\n  const [shippingPayment, setShippingPayment] = useState<ShippingPaymentConfiguration>(spGetNewConfiguration());\r\n  const [orderState,, sendOrder] = useFormSubmit('New order !');\r\n\r\n  function onProductChange(index: number, product: RackConfiguration) {\r\n    const newProducts = [...products];\r\n    newProducts[index] = product;\r\n    setProducts(newProducts);\r\n\r\n    if (validConfiguration(product)) {\r\n      logEvent('productChange', {\r\n        nbProducts: newProducts.length,\r\n        basket: newProducts.map(getPartNumber).join(', '),\r\n        totalProduct: getProductsPrice(newProducts)\r\n      });\r\n    }\r\n  }\r\n\r\n  function onAddProduct() {\r\n    setProducts([...products, rGetNewConfiguration()]);\r\n  }\r\n\r\n  function getProductsPrice(products: RackConfiguration[]): number {\r\n    return products.reduce((p, product) => p + (validConfiguration(product) ? getRackPrice(product) : 0), 0);\r\n  }\r\n\r\n  function onShippingChange(conf: ShippingPaymentConfiguration) {\r\n    setShippingPayment(conf);\r\n\r\n    logEvent('shippingChange', {\r\n      products: products.map(getPartNumber).join(', '),\r\n      shipping: conf.shipping ? conf.shipping[0] : '',\r\n      payment: conf.payment ? conf.payment[0] : '',\r\n      totalPrice: getTotalPrice(getProductsPrice(products), products.filter(p => validConfiguration(p)).length, conf) + '€',\r\n      customer: conf.customer ? (conf.customer.firstName + ' ' + conf.customer.name + ' - ' + conf.customer.email) : ''\r\n    });\r\n  }\r\n\r\n  function confirmOrder(event: React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n\r\n    const data = {\r\n      products: products.map(getPartNumber).join(', '),\r\n      shipping: shippingPayment.shipping ? shippingPayment.shipping[0] : '',\r\n      payment: shippingPayment.payment ? shippingPayment.payment[0] : '',\r\n      totalPrice: getTotalPrice(getProductsPrice(products), products.filter(p => validConfiguration(p)).length, shippingPayment) + '€',\r\n      customer: shippingPayment.customer ? (shippingPayment.customer.firstName + ' ' + shippingPayment.customer.name + ' - ' + shippingPayment.customer.email) : ''\r\n    };\r\n\r\n    logEvent('confirmOrder', data);\r\n    sendOrder(data);\r\n  }\r\n\r\n  return (\r\n    <div className=\"orderRacks\">\r\n      <Optionnal displayed={orderState.succeeded}>\r\n        <Row className=\"my-5 justify-content-center\">\r\n          <Col md={10}>\r\n            <Alert variant=\"success\">Merci pour votre commande, nous reviendrons vers vous très vite avec les informations pour le paiement et organiser la livraison. Merci pour votre commande !</Alert>\r\n          </Col>\r\n        </Row>\r\n      </Optionnal>\r\n      <Optionnal displayed={!orderState.succeeded}>\r\n        <Row className=\"mt-4\">\r\n          <Col md={5}>\r\n            <Image src=\"img/racks/racks.png\" thumbnail width=\"430\" height=\"322\" alt=\"Support pour filières de Philips Pasta Maker\" />\r\n          </Col>\r\n          <Col md={7} className=\"mt-4\">\r\n            <h2>Support pour filières</h2>\r\n            <p>Disponible pour les machines <strong>Philips Pasta Maker Avance</strong> et <strong>Philips Pasta Maker Viva</strong>, en plusieurs capacités et en plusieurs couleurs.</p>\r\n            <p>Faites vos choix pour configurer votre support puis passez commande ici-même.</p>\r\n            <p><small><strong>Bon à savoir</strong>: Les supports supplémentaires au premier seront envoyés dans le même colis pour seulement 1€ de plus.</small></p>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mt-3\">\r\n          <Col>\r\n            {products.map((product, index) =>\r\n              <ConfigureRack onChange={conf => onProductChange(index, conf)} onAdd={products.length - 1 === index ? onAddProduct : undefined} disabled={orderState.submitting} key={'product' + index} />\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Optionnal displayed={products.some(prod => validConfiguration(prod))}>\r\n          <Row className=\"mt-3 mb-4\">\r\n            <Col>\r\n              <ConfigureShippingPayment basketTotal={getProductsPrice(products)} basketCount={products.filter(p => validConfiguration(p)).length} onChange={onShippingChange} disabled={orderState.submitting} />\r\n            </Col>\r\n          </Row>\r\n          <Optionnal displayed={shippingPayment.customer !== undefined && getTotalPrice(getProductsPrice(products), products.filter(p => validConfiguration(p)).length, shippingPayment) > 0}>\r\n            <Row className=\"mt-3 mb-5\">\r\n              <Col>\r\n                <p>En cliquant sur le bouton de validation, nous serons informé de votre commande. Nous reviendrons alors vers vous par e-mail pour organiser la livraison et le paiement suivant les choix que vous aurez fait sur cette page. </p>\r\n                <Form onSubmit={confirmOrder}>\r\n                  <Button className=\"validate\" type=\"submit\" variant=\"primary\" size=\"lg\" block disabled={orderState.submitting}>\r\n                    <Optionnal displayed={orderState.submitting}><Spinner as=\"span\" className=\"waiting\" animation=\"border\" role=\"status\" aria-hidden=\"true\" /></Optionnal>\r\n                    Valider ma commande\r\n                  </Button>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n          </Optionnal>\r\n        </Optionnal>\r\n      </Optionnal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Racks;\r\n","import React from 'react';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Route, Switch, Redirect, useRouteMatch } from 'react-router';\r\nimport Racks from './racks/Racks';\r\nimport './ProductsPage.scss';\r\n\r\nfunction ProductsPage() {\r\n  let { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Container className=\"page order\">\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          {/* Create a page that let user pick a type of product */}\r\n          <Redirect to='produits/supportFilieres' />\r\n        </Route>\r\n        <Route path={`${path}/supportFilieres`}>\r\n          <Racks />\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ProductsPage;\r\n"],"sourceRoot":""}